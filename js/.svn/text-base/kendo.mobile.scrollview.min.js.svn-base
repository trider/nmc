/*
* Kendo UI Beta v2012.1.229 (http://kendoui.com)
* Copyright 2012 Telerik AD. All rights reserved.
*
* Kendo UI Beta license terms available at
* http://www.kendoui.com/purchase/license-agreement/kendo-ui-beta.aspx
*/

(function(a,b){var c=kendo.mobile,d=c.ui,e=a.proxy,f=kendo.Class,g=c.Transition,h=d.Widget,i=Math,j=i.abs,k=i.ceil,l=i.round,m=i.max,n=i.min,o=i.floor,p="km-current-page",q=h.extend({init:function(b,d){var f=this;h.fn.init.call(f,b,d),b=f.element,b.wrapInner("<div/>").addClass("km-scrollview").append('<ol class="km-pages"/>'),f.inner=b.children().first(),f.pager=b.children().last(),f.page=0;var i,k,l,m,n,o;i=new c.Move(f.inner),k=new g({axis:"x",move:i,onEnd:function(){f.page=Math.round(-i.x/boundary.size),f._updatePage()}}),l=new c.Swipe(b,{start:function(){j(l.x.velocity)*2>=j(l.y.velocity)?l.capture():l.cancel(),k.cancel()},end:a.proxy(f._swipeEnd,f)}),m=new c.ContainerBoundary({element:f.inner,container:f.element}),boundary=m.x,boundary.bind("change",e(f.refresh,f)),o=new c.Draggable({boundary:m,swipe:l,move:i,elastic:!0}),a.extend(f,{move:i,transition:k,swipe:l,container:m,boundary:boundary,draggable:o}),m.refresh()},options:{name:"ScrollView",duration:300,velocityThreshold:.8,bounceVelocityThreshold:1.6},viewShow:function(a){this.container.refresh()},refresh:function(){var a=this,b="",c=a.boundary,d=c.size,e;a.page=Math.round(-a.move.x/d),e=a.pages=k(c.total/d),a.minSnap=-(e-1)*d,a.maxSnap=0;for(var f=0;f<e;f++)b+="<li/>";a.pager.html(b),a._updatePage()},_swipeEnd:function(a){var b=this,c=a.x.velocity,d=b.boundary.size,e=b.options,f=e.velocityThreshold,h,i=l,p=g.easeOutExpo;c>f?i=k:c<-f&&(i=o),j(c)>e.bounceVelocityThreshold&&(p=g.easeOutBack),h=m(b.minSnap,n(i(b.move.x/d)*d,b.maxSnap)),b.transition.moveTo({location:h,duration:e.duration,ease:p})},_updatePage:function(){var a=this,b=a.pager;b.children().removeClass(p),b.find(":nth-child("+(a.page+1)+")").addClass(p)}});d.plugin(q)})(jQuery)